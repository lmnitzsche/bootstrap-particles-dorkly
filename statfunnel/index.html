<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Free Investment Calculator | Compound Interest, Backtesting & Portfolio Analysis Tool</title>
    <meta name="title" content="Free Investment Calculator | Compound Interest, Backtesting & Portfolio Analysis Tool">
    <meta name="description" content="Calculate compound interest, backtest 50 years of stock data on SPY, QQQ, VTI, and more. Build custom portfolios and analyze CAGR performance. Free investment planning tool powered by DorklyAI.">
    <meta name="keywords" content="investment calculator, compound interest calculator, stock backtesting, CAGR calculator, portfolio builder, retirement calculator, SPY calculator, ETF performance, financial planning, investment tools">
    <meta name="author" content="DorklyAI">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dorklyai.com/statfunnel/">
    <meta property="og:title" content="Free Investment Calculator | Compound Interest, Backtesting & Portfolio Analysis">
    <meta property="og:description" content="Calculate compound interest, backtest 50 years of stock data, and build custom portfolios. Free investment planning tool with real-time market data.">
    <meta property="og:image" content="https://dorklyai.com/assets/investment-calculator-preview.jpg">
    <meta property="og:site_name" content="DorklyAI Investment Tools">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://dorklyai.com/statfunnel/">
    <meta property="twitter:title" content="Free Investment Calculator | Compound Interest & Backtesting Tool">
    <meta property="twitter:description" content="Calculate compound interest, backtest historical stock data, and analyze portfolio CAGR. Free tool powered by DorklyAI.">
    <meta property="twitter:image" content="https://dorklyai.com/assets/investment-calculator-preview.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://dorklyai.com/statfunnel/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    
    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "DorklyAI Investment Calculator",
      "applicationCategory": "FinanceApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free investment calculator featuring compound interest calculations, 50-year stock backtesting, portfolio builder, and CAGR analysis for ETFs including SPY, QQQ, VTI, SCHD, and more.",
      "url": "https://dorklyai.com/statfunnel/",
      "creator": {
        "@type": "Organization",
        "name": "DorklyAI",
        "url": "https://dorklyai.com"
      },
      "featureList": [
        "Compound Interest Calculator",
        "Historical Stock Backtesting (50 years)",
        "Portfolio Builder with Weighted CAGR",
        "Real-time Market Data via Yahoo Finance",
        "20+ ETFs and Assets Supported",
        "Interactive Charts and Visualizations"
      ],
      "operatingSystem": "Web Browser",
      "browserRequirements": "Requires JavaScript. Supported on Chrome, Firefox, Safari, Edge."
    }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            padding: 0;
            font-family: 'Inter', sans-serif;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(99, 125, 255, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 90%, rgba(162, 155, 254, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .content-wrapper {
            position: relative;
            z-index: 1;
        }
        
        .calculator-container {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 24px;
            box-shadow: 
                0 30px 90px rgba(0, 0, 0, 0.4),
                0 0 1px rgba(255, 255, 255, 0.1) inset;
            padding: 50px;
            margin-bottom: 40px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }

        .calculator-container:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 40px 100px rgba(0, 0, 0, 0.5),
                0 0 1px rgba(255, 255, 255, 0.2) inset;
        }
        
        .hero-section {
            text-align: center;
            color: white;
            margin-bottom: 60px;
            padding: 80px 20px 40px;
            position: relative;
        }
        
        .hero-section h1 {
            font-family: 'Playfair Display', serif;
            font-size: 4.5rem;
            font-weight: 900;
            margin-bottom: 15px;
            text-shadow: 
                0 0 20px rgba(162, 155, 254, 0.5),
                0 4px 6px rgba(0,0,0,0.4);
            background: linear-gradient(135deg, #fff 0%, #a29bfe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: glow 3s ease-in-out infinite;
        }

        .dorkly-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 20px;
            box-shadow: 
                0 4px 15px rgba(102, 126, 234, 0.4),
                0 0 30px rgba(118, 75, 162, 0.3);
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .dorkly-badge:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 8px 25px rgba(102, 126, 234, 0.6),
                0 0 40px rgba(118, 75, 162, 0.5);
            color: white;
            border-color: rgba(255, 255, 255, 0.4);
        }

        .dorkly-badge::before {
            content: '';
            margin-right: 5px;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(162, 155, 254, 0.5)); }
            50% { filter: drop-shadow(0 0 20px rgba(162, 155, 254, 0.8)); }
        }
        
        .hero-section p {
            font-size: 1.4rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .hero-section .subtitle {
            font-size: 1.1rem;
            margin-top: 15px;
            opacity: 0.9;
            font-style: italic;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #1a1a2e;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
        }
        
        .result-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
            position: relative;
            overflow: hidden;
        }

        .result-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result-box > * {
            position: relative;
            z-index: 1;
        }
        
        .result-box h3 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        
        .result-box p {
            font-size: 1.2rem;
            margin: 10px 0;
            font-weight: 300;
        }

        .result-box strong {
            font-weight: 600;
        }
        .result-box strong {
            font-weight: 600;
        }
        
        .asset-button {
            margin: 5px;
            transition: all 0.3s ease;
            font-weight: 600;
            padding: 12px 24px;
            border-radius: 12px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
        }
        
        .asset-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }
        
        .asset-button.active {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border-color: transparent;
            color: white;
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        .chart-container {
            margin-top: 0;
            padding: 20px;
            background: rgba(248, 249, 250, 0.5);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chart-container canvas {
            max-height: 100%;
            width: 100% !important;
        }

        #results .row {
            display: flex;
            align-items: stretch;
        }

        #results .chart-wrapper {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading .spinner-border {
            width: 4rem;
            height: 4rem;
            border-width: 0.4rem;
        }
        
        .cta-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 80px 40px;
            text-align: center;
            border-radius: 24px;
            margin-top: 50px;
            box-shadow: 
                0 30px 90px rgba(245, 87, 108, 0.4),
                0 0 1px rgba(255, 255, 255, 0.1) inset;
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: slide 3s infinite;
        }

        @keyframes slide {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .cta-section > * {
            position: relative;
            z-index: 1;
        }
        
        .cta-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 25px;
            text-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        .cta-section .lead {
            font-size: 1.5rem;
            font-weight: 300;
        }
        
        .cta-button {
            background: white;
            color: #f5576c;
            font-size: 1.5rem;
            font-weight: 800;
            padding: 20px 60px;
            border: none;
            border-radius: 50px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .cta-button:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            color: #f5576c;
        }

        .warren-buffett-section {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
            border-radius: 24px;
            margin-top: 40px;
            box-shadow: 0 20px 60px rgba(25, 84, 123, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .warren-buffett-section h3 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 25px;
        }

        .warren-buffett-section blockquote {
            font-size: 1.8rem;
            font-style: italic;
            margin: 30px 0;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border-left: 5px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
        }

        .warren-link {
            background: white;
            color: #19547b;
            font-size: 1.3rem;
            font-weight: 700;
            padding: 18px 50px;
            border-radius: 50px;
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .warren-link:hover {
            transform: scale(1.05);
            color: #19547b;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }
        
        .backtest-results {
            margin-top: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 15px;
            border-left: 6px solid #28a745;
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.2);
        }

        .backtest-results h4 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: #1b5e20;
            margin-bottom: 20px;
        }
        
        .backtest-error {
            margin-top: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border-radius: 15px;
            border-left: 6px solid #dc3545;
            box-shadow: 0 8px 25px rgba(220, 53, 69, 0.2);
        }

        .backtest-error h5 {
            font-weight: 700;
            color: #c62828;
        }
        
        .form-label {
            font-weight: 700;
            color: #2d3436;
            font-size: 1.05rem;
            margin-bottom: 10px;
        }

        .form-control, .form-select {
            padding: 14px 18px;
            border-radius: 12px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
            font-size: 1.05rem;
        }

        .form-control:focus, .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            font-weight: 700;
            padding: 16px 40px;
            border-radius: 12px;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border: none;
            font-weight: 700;
            padding: 16px 40px;
            border-radius: 12px;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(40, 167, 69, 0.5);
        }

        /* CAGR Performance Section Styles */
        .cagr-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .cagr-card {
            background: white;
            border-radius: 16px;
            padding: 25px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid #e0e0e0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        .cagr-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .cagr-card:hover::before {
            transform: scaleX(1);
        }

        .cagr-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }

        .cagr-card.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.5);
            border-color: transparent;
        }

        .cagr-card.active::before {
            display: none;
        }

        .cagr-card-ticker {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 8px;
            color: #2d3436;
            transition: color 0.3s ease;
        }

        .cagr-card.active .cagr-card-ticker {
            color: white;
        }

        .cagr-card-name {
            font-size: 0.85rem;
            color: #6c757d;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .cagr-card.active .cagr-card-name {
            color: rgba(255, 255, 255, 0.9);
        }

        .cagr-result-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            border: 2px solid rgba(102, 126, 234, 0.2);
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cagr-icon-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .cagr-stats {
            padding-left: 30px;
        }

        .cagr-main-stat {
            display: flex;
            flex-direction: column;
            padding: 20px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .cagr-label {
            font-size: 0.9rem;
            color: #6c757d;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .cagr-value {
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
        }

        .cagr-sub-stat {
            display: flex;
            flex-direction: column;
            padding: 15px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .cagr-sub-label {
            font-size: 0.75rem;
            color: #6c757d;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }

        .cagr-sub-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #28a745;
        }

        .cagr-loading {
            text-align: center;
            padding: 30px;
            color: #667eea;
        }

        .cagr-loading .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .portfolio-summary {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.15);
        }

        .portfolio-stat-box {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .portfolio-stat-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
        }

        .portfolio-stat-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .portfolio-stat-value {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .portfolio-note {
            background: rgba(102, 126, 234, 0.1);
            border-left: 4px solid #667eea;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9rem;
            color: #555;
        }

        .portfolio-asset-row {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .portfolio-asset-row select,
        .portfolio-asset-row input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .portfolio-asset-row select:focus,
        .portfolio-asset-row input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .portfolio-asset-row .remove-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .portfolio-asset-row .remove-btn:hover {
            background: #c0392b;
            transform: scale(1.05);
        }

        .portfolio-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .portfolio-buttons button {
            flex: 1;
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-asset-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .add-asset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .clear-portfolio-btn {
            background: #95a5a6;
            color: white;
        }

        .clear-portfolio-btn:hover {
            background: #7f8c8d;
            transform: translateY(-2px);
        }
        
        .info-badge {
            background: linear-gradient(135deg, #e7f3ff 0%, #cce5ff 100%);
            color: #0d6efd;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 0.85rem;
            margin-left: 8px;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(13, 110, 253, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .stat-card h4 {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: 800;
            color: #667eea;
        }

        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2.5rem;
            }
            
            .cta-section h2 {
                font-size: 2rem;
            }

            .calculator-container {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="visually-hidden-focusable">Skip to main content</a>
    
    <div class="content-wrapper">
        <div class="container">
            <!-- Hero Section -->
            <header class="hero-section" role="banner">
                <a href="https://dorklyai.com" target="_blank" class="dorkly-badge" rel="noopener" aria-label="Powered by DorklyAI - Visit DorklyAI website">Powered by DorklyAI</a>
                <h1>Free Investment Calculator & Portfolio Analysis Tool</h1>
                <p style="font-size: 1.4rem; font-weight: 300; margin-top: 10px;">Calculate compound interest, backtest 50 years of stock market data, and build custom portfolios</p>
                <p class="subtitle" style="font-size: 1.1rem;">Real-time historical data from SPY, QQQ, VTI, and 17+ top ETFs and assets</p>
            </header>

            <!-- Main Content -->
            <main id="main-content" role="main">
                <!-- Compound Interest Calculator Section -->
                <article class="calculator-container">
                    <h2 class="section-title">Compound Interest Calculator</h2>
                    <p class="text-muted mb-4">Discover the power of compound interest - Einstein's "8th wonder of the world" - and plan your financial future</p>
                
                <div class="row">
                    <div class="col-lg-4">
                        <div class="mb-4">
                            <label for="initialInvestment" class="form-label">Initial Investment</label>
                            <input type="number" class="form-control" id="initialInvestment" value="10000" min="0" step="100">
                        </div>
                        
                        <div class="mb-4">
                            <label for="monthlyContribution" class="form-label">Monthly Contribution</label>
                            <input type="number" class="form-control" id="monthlyContribution" value="500" min="0" step="50">
                        </div>
                        
                        <div class="mb-4">
                            <label for="expectedReturn" class="form-label">Expected Annual Return (%)</label>
                            <input type="number" class="form-control" id="expectedReturn" value="10" min="0" max="100" step="0.1">
                        </div>
                        
                        <div class="mb-4">
                            <label for="years" class="form-label">Investment Period (Years)</label>
                            <input type="number" class="form-control" id="years" value="10" min="1" max="50" step="1">
                        </div>
                        
                        <button class="btn btn-primary btn-lg w-100" onclick="calculateCompoundInterest()">
                            Calculate Returns
                        </button>
                    </div>
                    
                    <div class="col-lg-8">
                        <div id="results" style="display: none;">
                            <div class="row" style="margin: 0;">
                                <div class="col-12">
                                    <div class="result-box" style="padding: 30px; margin-bottom: 20px;">
                                        <h3 id="finalAmount" style="font-size: 3rem;">$0</h3>
                                        <p style="font-size: 1.1rem;">Final Portfolio Value</p>
                                        <hr style="background: rgba(255,255,255,0.3); height: 2px; opacity: 0.5; margin: 15px 0;">
                                        <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
                                            <div>
                                                <p style="font-size: 0.85rem; opacity: 0.9;">Contributions</p>
                                                <p style="font-size: 1.3rem; font-weight: 700;" id="totalContributions">$0</p>
                                            </div>
                                            <div>
                                                <p style="font-size: 0.85rem; opacity: 0.9;">Earnings</p>
                                                <p style="font-size: 1.3rem; font-weight: 700;" id="totalEarnings">$0</p>
                                            </div>
                                            <div>
                                                <p style="font-size: 0.85rem; opacity: 0.9;">ROI</p>
                                                <p style="font-size: 1.3rem; font-weight: 700;" id="roi">0%</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="chart-container">
                                        <canvas id="compoundChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

                </article>
                
                <!-- Historical Backtesting Section -->
                <section class="calculator-container" aria-labelledby="backtesting-heading">
                    <h2 id="backtesting-heading" class="section-title">Historical Stock Backtesting (Up to 50 Years)</h2>
                    <p class="text-muted mb-4">See how your investment strategy would have performed with <strong>real historical market data</strong> from SPY, QQQ, VTI, and 17+ major ETFs and assets</p>
                
                <div class="mb-4">
                    <label class="form-label">Select Asset to Backtest:</label>
                    <div class="d-flex flex-wrap" id="assetButtons">
                        <button class="btn asset-button" data-ticker="SPY" onclick="selectAsset('SPY')">S&P 500 (SPY)</button>
                        <button class="btn asset-button" data-ticker="QQQ" onclick="selectAsset('QQQ')">Nasdaq (QQQ)</button>
                        <button class="btn asset-button" data-ticker="VTI" onclick="selectAsset('VTI')">Total Market (VTI)</button>
                        <button class="btn asset-button" data-ticker="VB" onclick="selectAsset('VB')">Small Cap (VB)</button>
                        <button class="btn asset-button" data-ticker="XLF" onclick="selectAsset('XLF')">Finance (XLF)</button>
                        <button class="btn asset-button" data-ticker="SCHD" onclick="selectAsset('SCHD')">Dividend (SCHD)</button>
                        <button class="btn asset-button" data-ticker="VIG" onclick="selectAsset('VIG')">Div Growth (VIG)</button>
                        <button class="btn asset-button" data-ticker="VEA" onclick="selectAsset('VEA')">Developed Intl (VEA)</button>
                        <button class="btn asset-button" data-ticker="VXUS" onclick="selectAsset('VXUS')">Total Intl (VXUS)</button>
                        <button class="btn asset-button" data-ticker="EWG" onclick="selectAsset('EWG')">Germany (EWG)</button>
                        <button class="btn asset-button" data-ticker="EWJ" onclick="selectAsset('EWJ')">Japan (EWJ)</button>
                        <button class="btn asset-button" data-ticker="EWA" onclick="selectAsset('EWA')">Australia (EWA)</button>
                        <button class="btn asset-button" data-ticker="VNQ" onclick="selectAsset('VNQ')">Real Estate (VNQ)</button>
                        <button class="btn asset-button" data-ticker="GLD" onclick="selectAsset('GLD')">Gold (GLD)</button>
                        <button class="btn asset-button" data-ticker="SLV" onclick="selectAsset('SLV')">Silver (SLV)</button>
                        <button class="btn asset-button" data-ticker="BND" onclick="selectAsset('BND')">Bonds (BND)</button>
                        <button class="btn asset-button" data-ticker="USO" onclick="selectAsset('USO')">Oil (USO)</button>
                        <button class="btn asset-button" data-ticker="BTC-USD" onclick="selectAsset('BTC-USD')">Bitcoin (BTC)</button>
                        <button class="btn asset-button" data-ticker="ETH-USD" onclick="selectAsset('ETH-USD')">Ethereum (ETH)</button>
                        <button class="btn asset-button" data-ticker="SOL-USD" onclick="selectAsset('SOL-USD')">Solana (SOL)</button>
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="backtestYears" class="form-label">Backtest Period</label>
                        <select class="form-select" id="backtestYears">
                            <option value="1">1 Year</option>
                            <option value="3">3 Years</option>
                            <option value="5" selected>5 Years</option>
                            <option value="10">10 Years</option>
                            <option value="15">15 Years</option>
                            <option value="20">20 Years</option>
                            <option value="25">25 Years</option>
                            <option value="30">30 Years</option>
                            <option value="40">40 Years</option>
                            <option value="50">50 Years</option>
                        </select>
                    </div>
                    <div class="col-md-6 d-flex align-items-end">
                        <button class="btn btn-success btn-lg w-100" onclick="runBacktest()" id="backtestButton">
                            Run Backtest
                        </button>
                    </div>
                </div>
                
                <div class="loading" id="loading">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-3" style="color: #667eea; font-weight: 600;">Fetching historical data from Yahoo Finance...</p>
                </div>
                
                <div id="backtestResults"></div>
            </div>

                </section>
                
                <!-- CAGR Performance Analysis Section -->
                <section class="calculator-container" style="background: white;" aria-labelledby="cagr-heading">
                    <h2 id="cagr-heading" class="section-title">ETF Performance Analysis - CAGR Calculator</h2>
                    <p class="text-muted mb-4">Analyze historical Compound Annual Growth Rate (CAGR) for 18+ ETFs including SPY, QQQ, VTI, SCHD, bonds, gold, and international markets</p>
                
                <div class="row mb-4">
                    <div class="col-md-4">
                        <label for="cagrYears" class="form-label" style="font-weight: 600;">Time Period (Years)</label>
                        <select class="form-select" id="cagrYears" onchange="updateCAGRPeriod()">
                            <option value="1">1 Year</option>
                            <option value="3">3 Years</option>
                            <option value="5">5 Years</option>
                            <option value="10">10 Years</option>
                            <option value="15">15 Years</option>
                            <option value="20">20 Years</option>
                            <option value="25">25 Years</option>
                            <option value="30" selected>30 Years</option>
                        </select>
                    </div>
                </div>
                
                <div class="cagr-grid" id="cagrGrid">
                    <!-- ETF Cards will be populated here -->
                </div>
                
                <div id="cagrDetails" style="display: none; margin-top: 30px;">
                    <div class="cagr-result-card">
                        <div class="row align-items-center">
                            <div class="col-md-4 text-center">
                                <div class="cagr-icon-circle">
                                    <span id="cagrAssetName" style="font-size: 2rem; font-weight: 800;">SPY</span>
                                </div>
                                <p class="mt-2" style="font-size: 0.9rem; color: #6c757d;" id="cagrAssetFullName">S&P 500</p>
                            </div>
                            <div class="col-md-8">
                                <div class="cagr-stats">
                                    <div class="cagr-main-stat">
                                        <span class="cagr-label" id="cagrPeriodLabel">30-Year CAGR</span>
                                        <span class="cagr-value" id="cagrValue">Loading...</span>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-6">
                                            <div class="cagr-sub-stat">
                                                <span class="cagr-sub-label">$10,000 Investment</span>
                                                <span class="cagr-sub-value" id="cagrGrowth">-</span>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="cagr-sub-stat">
                                                <span class="cagr-sub-label">Total Return</span>
                                                <span class="cagr-sub-value" id="cagrTotalReturn">-</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                </section>
                
                <!-- Portfolio Builder Section -->
                <section class="calculator-container" style="background: white; border: 2px solid #667eea;" aria-labelledby="portfolio-heading">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                        <div>
                            <h2 id="portfolio-heading" class="section-title" style="margin-bottom: 10px;">Custom Portfolio Builder with Weighted CAGR</h2>
                            <p class="text-muted mb-0" style="margin-top: 5px;">Build your custom investment portfolio and calculate the weighted average CAGR across multiple assets</p>
                        </div>
                    <div style="text-align: right;">
                        <label for="portfolioYearSelect" style="display: block; font-size: 0.9rem; color: #666; margin-bottom: 5px; font-weight: 600;">CAGR Period</label>
                        <select id="portfolioYearSelect" onchange="updatePortfolioYears()" style="padding: 10px 20px; border: 2px solid #667eea; border-radius: 8px; font-size: 1rem; font-weight: 600; color: #667eea; background: white; cursor: pointer;">
                            <option value="1">1 Year</option>
                            <option value="3">3 Years</option>
                            <option value="5">5 Years</option>
                            <option value="10">10 Years</option>
                            <option value="15">15 Years</option>
                            <option value="20">20 Years</option>
                            <option value="25">25 Years</option>
                            <option value="30" selected>30 Years</option>
                        </select>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-lg-8">
                        <div id="portfolioAssets">
                            <!-- Portfolio assets will be dynamically added here -->
                        </div>
                        
                        <div class="portfolio-buttons">
                            <button class="add-asset-btn" onclick="addPortfolioAsset()">+ Add Asset</button>
                            <button class="clear-portfolio-btn" onclick="clearPortfolio()">Clear All</button>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="portfolio-summary">
                            <h4 style="font-size: 1.2rem; margin-bottom: 20px; color: #2d3436; font-weight: 700;">Portfolio Summary</h4>
                            
                            <div class="portfolio-stat-box">
                                <div class="portfolio-stat-label">Total Allocation</div>
                                <div class="portfolio-stat-value" id="totalAllocation">0%</div>
                            </div>
                            
                            <div class="portfolio-stat-box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                <div class="portfolio-stat-label" style="color: rgba(255,255,255,0.9);"><span id="portfolioYearLabel">30</span>-Year Weighted CAGR</div>
                                <div style="font-size: 2.5rem; font-weight: 800; color: #ffffff !important; -webkit-text-fill-color: #ffffff !important;" id="portfolioCAGR">-%</div>
                            </div>
                            
                            <div class="portfolio-note">
                                <strong>Note:</strong> Total allocation should equal 100%. The CAGR will be calculated automatically as you add assets and allocations.
                            </div>
                        </div>
                    </div>
                    </div>
                </section>

                <!-- Einstein Investment Wisdom Section -->
                <aside class="warren-buffett-section" role="complementary" aria-label="Investment wisdom and education">
                    <h3>Einstein's Investment Wisdom</h3>
                    <blockquote cite="https://en.wikipedia.org/wiki/Albert_Einstein">
                        "Compound interest is the eighth wonder of the world. He who understands it, earns it; he who doesn't, pays it."
                        <footer class="mt-3" style="font-size: 1rem; opacity: 0.9;">— Albert Einstein</footer>
                    </blockquote>
                    <p class="lead mb-4">Discover timeless investment wisdom, financial strategies, and market insights from legendary investors and thinkers</p>
                    <a href="../blog/blyss.html" class="warren-link" aria-label="Read more investment insights on Blyss blog">
                        Read Investment Insights on Blyss →
                    </a>
                </aside>

                <!-- DorklyAI CTA Section -->
                <aside class="cta-section" role="complementary" aria-label="DorklyAI call to action">
                    <h2>Supercharge Your Financial Planning with AI</h2>
                    <p class="lead mb-4">Meet DorklyAI - Your Intelligent AI Assistant for Investment Analysis, Data Processing & More</p>
                    <p class="mb-4" style="font-size: 1.2rem;">From portfolio optimization to market analysis, financial modeling to automated reporting - DorklyAI transforms how you invest and manage wealth with cutting-edge artificial intelligence.</p>
                    <a href="https://dorklyai.com" class="cta-button" target="_blank" rel="noopener" aria-label="Try DorklyAI Free - opens in new tab">Try DorklyAI Free →</a>
                    <p class="mt-4" style="font-size: 1rem; opacity: 0.95;">Join thousands of investors and financial professionals making smarter decisions with AI-powered tools</p>
                </aside>
            </main>
            
            <!-- Footer -->
            <footer role="contentinfo" style="text-align: center; padding: 40px 0 20px; color: rgba(255,255,255,0.7);">
                <p style="font-size: 0.9rem; margin-bottom: 10px;">
                    <strong>DorklyAI Investment Tools</strong> - Free compound interest calculator, stock backtesting, and portfolio analysis
                </p>
                <p style="font-size: 0.85rem; margin-bottom: 15px;">
                    Data provided by Yahoo Finance. Past performance does not guarantee future results. Not financial advice.
                </p>
                <nav aria-label="Footer navigation" style="margin-bottom: 15px;">
                    <a href="https://dorklyai.com" target="_blank" rel="noopener" style="color: rgba(255,255,255,0.8); margin: 0 15px; text-decoration: none;">Home</a>
                    <a href="../blog/blyss.html" style="color: rgba(255,255,255,0.8); margin: 0 15px; text-decoration: none;">Blog</a>
                    <a href="https://dorklyai.com/privacy" target="_blank" rel="noopener" style="color: rgba(255,255,255,0.8); margin: 0 15px; text-decoration: none;">Privacy</a>
                    <a href="https://dorklyai.com/terms" target="_blank" rel="noopener" style="color: rgba(255,255,255,0.8); margin: 0 15px; text-decoration: none;">Terms</a>
                </nav>
                <p style="font-size: 0.8rem;">© 2025 DorklyAI. All rights reserved.</p>
            </footer>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        let selectedAsset = null;
        let backtestChartInstance = null;
        let compoundChartInstance = null;

        function calculateCompoundInterest() {
            const initial = parseFloat(document.getElementById('initialInvestment').value) || 0;
            const monthly = parseFloat(document.getElementById('monthlyContribution').value) || 0;
            const rate = parseFloat(document.getElementById('expectedReturn').value) / 100 || 0;
            const years = parseInt(document.getElementById('years').value) || 0;
            
            // Compound interest formula with monthly contributions
            const monthlyRate = rate / 12;
            const months = years * 12;
            
            // Calculate year-by-year data for chart
            let yearlyData = [];
            let yearlyContributions = [];
            
            for (let year = 0; year <= years; year++) {
                const currentMonths = year * 12;
                
                // Future value of initial investment
                const fvInitial = initial * Math.pow(1 + monthlyRate, currentMonths);
                
                // Future value of monthly contributions (annuity)
                let fvContributions = 0;
                if (monthlyRate !== 0 && currentMonths > 0) {
                    fvContributions = monthly * ((Math.pow(1 + monthlyRate, currentMonths) - 1) / monthlyRate);
                } else {
                    fvContributions = monthly * currentMonths;
                }
                
                const totalValue = fvInitial + fvContributions;
                const totalContrib = initial + (monthly * currentMonths);
                
                yearlyData.push(totalValue);
                yearlyContributions.push(totalContrib);
            }
            
            const finalAmount = yearlyData[yearlyData.length - 1];
            const totalContributions = yearlyContributions[yearlyContributions.length - 1];
            const totalEarnings = finalAmount - totalContributions;
            const roi = ((finalAmount - totalContributions) / totalContributions * 100);
            
            // Display results
            document.getElementById('finalAmount').textContent = '$' + finalAmount.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('totalContributions').textContent = '$' + totalContributions.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('totalEarnings').textContent = '$' + totalEarnings.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('roi').textContent = roi.toFixed(2) + '%';
            document.getElementById('results').style.display = 'block';
            
            // Create compound interest chart
            createCompoundChart(years, yearlyData, yearlyContributions);
            
            // Smooth scroll to results
            setTimeout(() => {
                document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        function createCompoundChart(years, totalValues, contributions) {
            const ctx = document.getElementById('compoundChart');
            
            if (compoundChartInstance) {
                compoundChartInstance.destroy();
            }
            
            const labels = Array.from({length: years + 1}, (_, i) => `Year ${i}`);
            
            compoundChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Total Portfolio Value',
                            data: totalValues,
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 5,
                            pointHoverRadius: 7,
                            pointBackgroundColor: '#667eea',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2
                        },
                        {
                            label: 'Total Contributions',
                            data: contributions,
                            borderColor: '#f5576c',
                            backgroundColor: 'rgba(245, 87, 108, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 5,
                            pointHoverRadius: 7,
                            pointBackgroundColor: '#f5576c',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    aspectRatio: 2.5,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                font: {
                                    size: 14,
                                    weight: '600'
                                },
                                padding: 15,
                                usePointStyle: true,
                                pointStyle: 'circle'
                            }
                        },
                        title: {
                            display: true,
                            text: 'Investment Growth Over Time',
                            font: {
                                size: 18,
                                weight: '700',
                                family: "'Playfair Display', serif"
                            },
                            padding: 20
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            padding: 12,
                            titleFont: {
                                size: 14,
                                weight: '600'
                            },
                            bodyFont: {
                                size: 13
                            },
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    label += '$' + context.parsed.y.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString('en-US');
                                },
                                font: {
                                    size: 12,
                                    weight: '500'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    size: 12,
                                    weight: '500'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        function selectAsset(ticker) {
            selectedAsset = ticker;
            
            // Update button states
            document.querySelectorAll('.asset-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-ticker="${ticker}"]`).classList.add('active');
        }

        async function runBacktest() {
            if (!selectedAsset) {
                alert('Please select an asset to backtest');
                return;
            }
            
            const initial = parseFloat(document.getElementById('initialInvestment').value) || 0;
            const monthly = parseFloat(document.getElementById('monthlyContribution').value) || 0;
            const years = parseInt(document.getElementById('backtestYears').value) || 5;
            
            document.getElementById('loading').style.display = 'block';
            document.getElementById('backtestResults').innerHTML = '';
            document.getElementById('backtestButton').disabled = true;
            
            try {
                // Calculate date range
                const endDate = new Date();
                const startDate = new Date();
                startDate.setFullYear(startDate.getFullYear() - years);
                
                const period1 = Math.floor(startDate.getTime() / 1000);
                const period2 = Math.floor(endDate.getTime() / 1000);
                
                // Yahoo Finance API endpoint - try direct first, fallback to CORS proxy
                const yahooUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${selectedAsset}?period1=${period1}&period2=${period2}&interval=1mo&includeAdjustedClose=true`;
                
                console.log('Fetching data for:', selectedAsset, 'from', new Date(period1 * 1000).toLocaleDateString(), 'to', new Date(period2 * 1000).toLocaleDateString());
                
                let response;
                let data;
                
                try {
                    // Try direct Yahoo Finance API
                    response = await fetch(yahooUrl, {
                        method: 'GET',
                        headers: {
                            'Accept': 'application/json',
                        }
                    });
                    
                    if (!response.ok) {
                        throw new Error(`Direct API failed: ${response.status}`);
                    }
                    
                    data = await response.json();
                } catch (directError) {
                    console.log('Direct API failed, trying CORS proxy...', directError.message);
                    
                    // Fallback to CORS proxy
                    const corsProxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(yahooUrl)}`;
                    response = await fetch(corsProxyUrl);
                    
                    if (!response.ok) {
                        throw new Error(`CORS proxy also failed! Status: ${response.status}`);
                    }
                    
                    data = await response.json();
                }
                
                if (data.chart.error) {
                    throw new Error(data.chart.error.description);
                }
                
                const result = data.chart.result[0];
                
                if (!result || !result.timestamp || result.timestamp.length === 0) {
                    throw new Error('No data available for this asset in the selected time period');
                }
                
                const timestamps = result.timestamp;
                const closes = result.indicators.quote[0].close;
                
                // Filter out null values and ensure we have valid data
                const validData = timestamps.map((ts, idx) => ({
                    timestamp: ts,
                    close: closes[idx]
                })).filter(item => item.close !== null && item.close !== undefined && item.close > 0);
                
                if (validData.length < 2) {
                    throw new Error(`Insufficient data available for ${selectedAsset}. Try a shorter time period or different asset.`);
                }
                
                const validTimestamps = validData.map(item => item.timestamp);
                const validCloses = validData.map(item => item.close);
                
                // Calculate backtest
                const backtestData = calculateBacktest(validCloses, initial, monthly);
                
                // Display results
                displayBacktestResults(backtestData, selectedAsset, validTimestamps, validCloses);
                
            } catch (error) {
                console.error('Backtest error:', error);
                let errorMessage = error.message || 'Unable to fetch historical data';
                
                // Provide helpful suggestions based on the asset
                let suggestion = '';
                if (selectedAsset.includes('-USD')) {
                    suggestion = '<p class="mt-2"><strong>Crypto assets</strong> may have limited historical data. Try selecting 1-3 years for crypto.</p>';
                } else if (['SCHD', 'VIG', 'VNQ'].includes(selectedAsset)) {
                    suggestion = '<p class="mt-2"><strong>This ETF</strong> may have limited historical data. Try a shorter time period (1-5 years).</p>';
                }
                
                document.getElementById('backtestResults').innerHTML = `
                    <div class="backtest-error">
                        <h5>Unable to Complete Backtest</h5>
                        <p><strong>Error:</strong> ${errorMessage}</p>
                        ${suggestion}
                        <p class="mb-0 mt-3"><small><strong>Tip:</strong> Try selecting a different time period or asset. Some newer assets (especially cryptocurrencies) have limited historical data.</small></p>
                    </div>
                `;
            } finally {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('backtestButton').disabled = false;
            }
        }

        function calculateBacktest(prices, initial, monthlyContribution) {
            if (!prices || prices.length === 0) {
                throw new Error('No price data available');
            }
            
            const startPrice = prices[0];
            const endPrice = prices[prices.length - 1];
            
            let portfolioValue = 0;
            let totalInvested = initial;
            let shares = initial / startPrice;
            
            // Calculate share accumulation with monthly contributions
            for (let i = 1; i < prices.length; i++) {
                shares += monthlyContribution / prices[i];
                totalInvested += monthlyContribution;
            }
            
            portfolioValue = shares * endPrice;
            const totalReturn = portfolioValue - totalInvested;
            const returnPercent = (totalReturn / totalInvested) * 100;
            const annualizedReturn = (Math.pow(portfolioValue / totalInvested, 1 / (prices.length / 12)) - 1) * 100;
            
            return {
                startPrice,
                endPrice,
                portfolioValue,
                totalInvested,
                totalReturn,
                returnPercent,
                annualizedReturn,
                shares
            };
        }

        function displayBacktestResults(data, ticker, timestamps, prices) {
            const isPositive = data.totalReturn >= 0;
            const resultsHTML = `
                <div class="backtest-results">
                    <h4>Backtest Results for ${ticker}</h4>
                    <p class="text-muted mb-3">Based on actual historical prices with dollar-cost averaging</p>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h4>Starting Price</h4>
                            <div class="value">$${data.startPrice.toFixed(2)}</div>
                        </div>
                        <div class="stat-card">
                            <h4>Ending Price</h4>
                            <div class="value">$${data.endPrice.toFixed(2)}</div>
                        </div>
                        <div class="stat-card">
                            <h4>Total Invested</h4>
                            <div class="value">$${data.totalInvested.toLocaleString('en-US', {minimumFractionDigits: 2})}</div>
                        </div>
                        <div class="stat-card">
                            <h4>Shares Owned</h4>
                            <div class="value">${data.shares.toFixed(4)}</div>
                        </div>
                    </div>
                    
                    <div class="result-box mt-4">
                        <h3>$${data.portfolioValue.toLocaleString('en-US', {minimumFractionDigits: 2})}</h3>
                        <p>Final Portfolio Value</p>
                        <hr style="background: rgba(255,255,255,0.3); height: 2px; opacity: 0.5; margin: 20px 0;">
                        <div class="row">
                            <div class="col-md-4">
                                <p style="font-size: 0.9rem; opacity: 0.9;">Total Return</p>
                                <p style="font-size: 1.8rem; font-weight: 700;">${isPositive ? '+' : ''}$${data.totalReturn.toLocaleString('en-US', {minimumFractionDigits: 2})}</p>
                            </div>
                            <div class="col-md-4">
                                <p style="font-size: 0.9rem; opacity: 0.9;">Return %</p>
                                <p style="font-size: 1.8rem; font-weight: 700;">${isPositive ? '+' : ''}${data.returnPercent.toFixed(2)}%</p>
                            </div>
                            <div class="col-md-4">
                                <p style="font-size: 0.9rem; opacity: 0.9;">Annualized</p>
                                <p style="font-size: 1.8rem; font-weight: 700;">${data.annualizedReturn.toFixed(2)}%</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chart-container mt-4">
                        <canvas id="backtestChart"></canvas>
                    </div>
                </div>
            `;
            
            document.getElementById('backtestResults').innerHTML = resultsHTML;
            
            // Create chart
            createBacktestChart(timestamps, prices, ticker);
            
            // Smooth scroll to results
            setTimeout(() => {
                document.getElementById('backtestResults').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        function createBacktestChart(timestamps, prices, ticker) {
            const ctx = document.getElementById('backtestChart');
            
            if (backtestChartInstance) {
                backtestChartInstance.destroy();
            }
            
            const labels = timestamps.map(ts => {
                const date = new Date(ts * 1000);
                return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short' });
            });
            
            backtestChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: `${ticker} Price`,
                        data: prices,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 3,
                        pointHoverRadius: 6,
                        pointBackgroundColor: '#28a745',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                font: {
                                    size: 14,
                                    weight: '600'
                                },
                                padding: 15
                            }
                        },
                        title: {
                            display: true,
                            text: 'Historical Price Performance',
                            font: {
                                size: 18,
                                weight: '700',
                                family: "'Playfair Display', serif"
                            },
                            padding: 20
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            padding: 12,
                            callbacks: {
                                label: function(context) {
                                    return 'Price: $' + context.parsed.y.toFixed(2);
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toFixed(2);
                                },
                                font: {
                                    size: 12,
                                    weight: '500'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            ticks: {
                                maxTicksLimit: 12,
                                font: {
                                    size: 11,
                                    weight: '500'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        // Calculate on page load
        window.addEventListener('load', () => {
            calculateCompoundInterest();
            initializeCAGRSection();
        });

        // CAGR Section Functions
        const cagrAssets = [
            { ticker: 'SPY', name: 'S&P 500' },
            { ticker: 'QQQ', name: 'Nasdaq 100' },
            { ticker: 'VTI', name: 'Total Stock Market' },
            { ticker: 'VB', name: 'Small Cap' },
            { ticker: 'XLF', name: 'Financials' },
            { ticker: 'SCHD', name: 'Dividend Equity' },
            { ticker: 'VIG', name: 'Dividend Appreciation' },
            { ticker: 'VEA', name: 'Developed Markets' },
            { ticker: 'VXUS', name: 'Total International' },
            { ticker: 'EWG', name: 'Germany' },
            { ticker: 'EWJ', name: 'Japan' },
            { ticker: 'EWA', name: 'Australia' },
            { ticker: 'EIS', name: 'Israel' },
            { ticker: 'VNQ', name: 'Real Estate' },
            { ticker: 'GLD', name: 'Gold' },
            { ticker: 'SLV', name: 'Silver' },
            { ticker: 'BND', name: 'Total Bond Market' },
            { ticker: 'USO', name: 'Oil' }
        ];

        function initializeCAGRSection() {
            const grid = document.getElementById('cagrGrid');
            grid.innerHTML = '';
            
            cagrAssets.forEach(asset => {
                const card = document.createElement('div');
                card.className = 'cagr-card';
                card.innerHTML = `
                    <div class="cagr-card-ticker">${asset.ticker}</div>
                    <div class="cagr-card-name">${asset.name}</div>
                `;
                card.onclick = () => fetchCAGR(asset.ticker, asset.name, card);
                grid.appendChild(card);
            });
        }

        async function fetchCAGR(ticker, name, cardElement) {
            // Remove active class from all cards
            document.querySelectorAll('.cagr-card').forEach(c => c.classList.remove('active'));
            cardElement.classList.add('active');
            
            // Store ticker and name on card for later reference
            cardElement.dataset.ticker = ticker;
            cardElement.dataset.name = name;
            
            // Show details section with loading state
            const detailsDiv = document.getElementById('cagrDetails');
            detailsDiv.style.display = 'block';
            
            document.getElementById('cagrAssetName').textContent = ticker;
            document.getElementById('cagrAssetFullName').textContent = name;
            document.getElementById('cagrValue').innerHTML = '<div class="cagr-loading"><div class="spinner"></div>Calculating...</div>';
            document.getElementById('cagrGrowth').textContent = '-';
            document.getElementById('cagrTotalReturn').textContent = '-';
            
            // Smooth scroll to results
            setTimeout(() => {
                detailsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
            
            try {
                // Calculate date range using currentCAGRYears
                console.log('Fetching CAGR for', ticker, 'with', currentCAGRYears, 'years');
                const endDate = new Date();
                const startDate = new Date();
                startDate.setFullYear(startDate.getFullYear() - currentCAGRYears);
                
                const period1 = Math.floor(startDate.getTime() / 1000);
                const period2 = Math.floor(endDate.getTime() / 1000);
                
                console.log('Date range:', new Date(period1 * 1000).toLocaleDateString(), 'to', new Date(period2 * 1000).toLocaleDateString());
                
                // Yahoo Finance API endpoint
                const yahooUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}?period1=${period1}&period2=${period2}&interval=1mo&includeAdjustedClose=true`;
                
                let response;
                let data;
                
                try {
                    // Try direct Yahoo Finance API
                    response = await fetch(yahooUrl, {
                        method: 'GET',
                        headers: { 'Accept': 'application/json' }
                    });
                    
                    if (!response.ok) throw new Error(`Direct API failed: ${response.status}`);
                    data = await response.json();
                } catch (directError) {
                    console.log('Direct API failed, trying CORS proxy...');
                    const corsProxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(yahooUrl)}`;
                    response = await fetch(corsProxyUrl);
                    if (!response.ok) throw new Error(`CORS proxy failed! Status: ${response.status}`);
                    data = await response.json();
                }
                
                if (data.chart.error) {
                    throw new Error(data.chart.error.description);
                }
                
                const result = data.chart.result[0];
                
                if (!result || !result.timestamp || result.timestamp.length === 0) {
                    throw new Error(`No data available for this asset in the ${currentCAGRYears}-year period`);
                }
                
                const closes = result.indicators.quote[0].close;
                const validData = closes.filter(c => c !== null && c !== undefined && c > 0);
                
                if (validData.length < 2) {
                    throw new Error(`Insufficient data available for ${ticker}. This asset may not have ${currentCAGRYears} years of history.`);
                }
                
                const startPrice = validData[0];
                const endPrice = validData[validData.length - 1];
                const actualMonths = validData.length;
                const actualYears = actualMonths / 12;
                
                console.log('Data points:', validData.length, 'months =', actualYears.toFixed(2), 'years');
                console.log('Start price:', startPrice, 'End price:', endPrice);
                
                // Calculate CAGR: ((End Value / Start Value) ^ (1 / Years)) - 1
                // Use actual years from the data for accurate calculation
                const cagr = (Math.pow(endPrice / startPrice, 1 / actualYears) - 1) * 100;
                
                console.log('Calculated CAGR:', cagr.toFixed(2) + '%');
                
                // Calculate what $10,000 would grow to over the actual period
                const initialInvestment = 10000;
                const finalValue = initialInvestment * Math.pow(1 + (cagr / 100), actualYears);
                const totalReturn = ((finalValue - initialInvestment) / initialInvestment) * 100;
                
                // Display results
                document.getElementById('cagrValue').textContent = cagr.toFixed(2) + '%';
                document.getElementById('cagrGrowth').textContent = '$' + finalValue.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
                document.getElementById('cagrTotalReturn').textContent = '+' + totalReturn.toFixed(0) + '%';
                
            } catch (error) {
                console.error('CAGR calculation error:', error);
                document.getElementById('cagrValue').innerHTML = '<span style="color: #dc3545; font-size: 1.2rem;">Data Unavailable</span>';
                document.getElementById('cagrGrowth').textContent = '-';
                document.getElementById('cagrTotalReturn').textContent = '-';
                
                // Show error message
                const errorMsg = document.createElement('p');
                errorMsg.style.cssText = 'color: #dc3545; font-size: 0.9rem; margin-top: 10px;';
                errorMsg.textContent = error.message || `Unable to fetch ${currentCAGRYears}-year data for this asset.`;
                document.querySelector('.cagr-main-stat').appendChild(errorMsg);
                
                setTimeout(() => errorMsg.remove(), 5000);
            }
        }

        // Portfolio Builder Functions
        let portfolioAssets = [];
        let cagrCache = {}; // Store calculated CAGRs
        let currentCAGRYears = 30; // Default 30 years

        async function fetchHistoricalData(ticker, years) {
            try {
                const endDate = new Date();
                const startDate = new Date();
                startDate.setFullYear(startDate.getFullYear() - years);
                
                const period1 = Math.floor(startDate.getTime() / 1000);
                const period2 = Math.floor(endDate.getTime() / 1000);
                
                const yahooUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}?period1=${period1}&period2=${period2}&interval=1mo&includeAdjustedClose=true`;
                
                let response;
                let data;
                
                try {
                    response = await fetch(yahooUrl, {
                        method: 'GET',
                        headers: { 'Accept': 'application/json' }
                    });
                    
                    if (!response.ok) throw new Error(`Direct API failed: ${response.status}`);
                    data = await response.json();
                } catch (directError) {
                    const corsProxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(yahooUrl)}`;
                    response = await fetch(corsProxyUrl);
                    
                    if (!response.ok) throw new Error(`CORS proxy failed: ${response.status}`);
                    data = await response.json();
                }
                
                if (data.chart.error) throw new Error(data.chart.error.description);
                
                const result = data.chart.result[0];
                if (!result || !result.timestamp || result.timestamp.length === 0) {
                    throw new Error('No data available');
                }
                
                const timestamps = result.timestamp;
                const closes = result.indicators.quote[0].close;
                
                const validData = timestamps.map((ts, idx) => ({
                    date: new Date(ts * 1000),
                    price: closes[idx]
                })).filter(item => item.price !== null && item.price !== undefined && item.price > 0);
                
                if (validData.length < 2) {
                    throw new Error(`Insufficient data for ${ticker}`);
                }
                
                return validData;
            } catch (error) {
                console.error(`Error fetching data for ${ticker}:`, error);
                throw error;
            }
        }

        function addPortfolioAsset() {
            const assetId = Date.now();
            const assetRow = document.createElement('div');
            assetRow.className = 'portfolio-asset-row';
            assetRow.id = `asset-${assetId}`;
            
            assetRow.innerHTML = `
                <select class="asset-select" onchange="updatePortfolio()">
                    <option value="">Select Asset...</option>
                    ${cagrAssets.map(asset => `<option value="${asset.ticker}">${asset.name} (${asset.ticker})</option>`).join('')}
                </select>
                <input type="number" class="allocation-input" min="0" max="100" step="0.1" placeholder="Allocation %" oninput="updatePortfolio()">
                <button class="remove-btn" onclick="removePortfolioAsset(${assetId})">Remove</button>
            `;
            
            document.getElementById('portfolioAssets').appendChild(assetRow);
            portfolioAssets.push(assetId);
        }

        function removePortfolioAsset(assetId) {
            const assetRow = document.getElementById(`asset-${assetId}`);
            if (assetRow) {
                assetRow.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    assetRow.remove();
                    portfolioAssets = portfolioAssets.filter(id => id !== assetId);
                    updatePortfolio();
                }, 300);
            }
        }

        function clearPortfolio() {
            const container = document.getElementById('portfolioAssets');
            const rows = container.querySelectorAll('.portfolio-asset-row');
            rows.forEach((row, index) => {
                setTimeout(() => {
                    row.style.animation = 'slideOut 0.3s ease-out';
                    setTimeout(() => row.remove(), 300);
                }, index * 100);
            });
            
            portfolioAssets = [];
            setTimeout(() => {
                document.getElementById('totalAllocation').textContent = '0%';
                document.getElementById('portfolioCAGR').textContent = '-%';
            }, rows.length * 100 + 300);
        }

        async function updatePortfolio() {
            const rows = document.querySelectorAll('.portfolio-asset-row');
            let totalAllocation = 0;
            let weightedCAGR = 0;
            let validAssets = 0;

            for (const row of rows) {
                const select = row.querySelector('.asset-select');
                const input = row.querySelector('.allocation-input');
                const symbol = select.value;
                const allocation = parseFloat(input.value) || 0;

                if (symbol && allocation > 0) {
                    totalAllocation += allocation;
                    
                    // Get CAGR for this asset
                    const cacheKey = `${symbol}-${currentCAGRYears}`;
                    let cagr;
                    
                    if (cagrCache[cacheKey]) {
                        cagr = cagrCache[cacheKey];
                    } else {
                        // Fetch and calculate CAGR
                        try {
                            const historicalData = await fetchHistoricalData(symbol, currentCAGRYears);
                            if (historicalData && historicalData.length >= 2) {
                                const startPrice = historicalData[0].price;
                                const endPrice = historicalData[historicalData.length - 1].price;
                                cagr = (Math.pow(endPrice / startPrice, 1 / currentCAGRYears) - 1) * 100;
                                cagrCache[cacheKey] = cagr;
                            }
                        } catch (error) {
                            console.error(`Error fetching CAGR for ${symbol}:`, error);
                            cagr = 0;
                        }
                    }
                    
                    if (cagr !== undefined && cagr !== null) {
                        weightedCAGR += (allocation / 100) * cagr;
                        validAssets++;
                    }
                }
            }

            // Update displays
            document.getElementById('totalAllocation').textContent = totalAllocation.toFixed(1) + '%';
            
            if (validAssets > 0 && totalAllocation > 0) {
                const cagrElement = document.getElementById('portfolioCAGR');
                cagrElement.textContent = weightedCAGR.toFixed(2) + '%';
                
                // Keep white color for visibility on gradient background
                cagrElement.style.color = '#ffffff';
            } else {
                document.getElementById('portfolioCAGR').textContent = '-%';
                document.getElementById('portfolioCAGR').style.color = '#ffffff';
            }
        }

        function updateCAGRPeriod() {
            const years = parseInt(document.getElementById('cagrYears').value);
            currentCAGRYears = years;
            document.getElementById('cagrPeriodLabel').textContent = years + '-Year CAGR';
            
            // Clear the current results
            document.getElementById('cagrValue').innerHTML = '<div class="cagr-loading"><div class="spinner"></div><p>Calculating...</p></div>';
            document.getElementById('cagrGrowth').textContent = '-';
            document.getElementById('cagrTotalReturn').textContent = '-';
            
            // If an asset is selected, recalculate
            const selectedCard = document.querySelector('.cagr-card.active');
            if (selectedCard) {
                const ticker = selectedCard.dataset.ticker;
                const name = selectedCard.dataset.name;
                if (ticker && name) {
                    fetchCAGR(ticker, name, selectedCard);
                }
            }
            
            // Reset portfolio calculation with new time period
            if (portfolioAssets.length > 0) {
                updatePortfolio();
            }
        }

        function updatePortfolioYears() {
            const years = parseInt(document.getElementById('portfolioYearSelect').value);
            currentCAGRYears = years;
            document.getElementById('portfolioYearLabel').textContent = years;
            
            // Clear the cache for the new time period and recalculate
            cagrCache = {};
            
            // Recalculate portfolio if assets exist
            const rows = document.querySelectorAll('.portfolio-asset-row');
            if (rows.length > 0) {
                updatePortfolio();
            }
        }

        // Add slideOut animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideOut {
                from {
                    opacity: 1;
                    transform: translateX(0);
                }
                to {
                    opacity: 0;
                    transform: translateX(-100px);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
    
    <!-- FAQ Schema for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is a compound interest calculator?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "A compound interest calculator helps you estimate the future value of your investments by calculating interest on both your initial principal and accumulated interest over time. Our calculator includes monthly contributions and shows you exactly how your money can grow."
          }
        },
        {
          "@type": "Question",
          "name": "How far back can I backtest stock data?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You can backtest investment strategies up to 50 years using real historical data from Yahoo Finance for major ETFs like SPY, QQQ, VTI, SCHD, and more. This allows you to see how your investment approach would have performed during different market conditions."
          }
        },
        {
          "@type": "Question",
          "name": "What is CAGR and why does it matter?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "CAGR (Compound Annual Growth Rate) is the rate of return that would be required for an investment to grow from its beginning balance to its ending balance over a specific time period. It's important because it smooths out volatility and gives you a true sense of an investment's performance."
          }
        },
        {
          "@type": "Question",
          "name": "Which assets can I analyze with this tool?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You can analyze 18+ assets including: SPY (S&P 500), QQQ (Nasdaq), VTI (Total Stock Market), SCHD (Dividend Equity), VIG (Dividend Appreciation), international ETFs, real estate (VNQ), precious metals (GLD, SLV), bonds (BND), oil (USO), and cryptocurrencies (Bitcoin, Ethereum, Solana)."
          }
        },
        {
          "@type": "Question",
          "name": "How does the portfolio builder work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The portfolio builder allows you to create custom investment portfolios by allocating percentages to different assets. It automatically calculates the weighted average CAGR based on your allocations and historical performance data, helping you optimize your portfolio diversification."
          }
        },
        {
          "@type": "Question",
          "name": "Is this investment calculator free?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes! This investment calculator, backtesting tool, and portfolio analyzer are completely free to use. No registration required. We provide real-time historical data from Yahoo Finance at no cost."
          }
        }
      ]
    }
    </script>
    
    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://dorklyai.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Investment Calculator",
          "item": "https://dorklyai.com/statfunnel/"
        }
      ]
    }
    </script>
</body>
</html>

